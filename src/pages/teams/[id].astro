---
import Layout from '@/layouts/Layout.astro';
import { actions } from 'astro:actions';

const { id } = Astro.params;

const { data: team, error } = await Astro.callAction(actions.getTeamById, {
  id: id as string,
});

if (error) {
  throw new Error('Failed to load team details: ' + error.message);
}

if (!team) {
  throw new Error('Team not found');
}

const { name, description } = team;
---

<Layout title={name}>
  <div class="max-w-2xl mx-5 mt-10">
    <h1 class="text-3xl font-bold mb-6">{name}</h1>
    <p class="text-gray-600">{description}</p>
  </div>
</Layout>
