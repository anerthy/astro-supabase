---
import Hero from '@/components/shared/Hero.astro';
import Layout from '@/layouts/Layout.astro';
import { actions } from 'astro:actions';

const { id } = Astro.params;

const { data: team, error } = await Astro.callAction(actions.getTeamById, {
  id: id as string,
});

if (error) {
  throw new Error('Failed to load team details: ' + error.message);
}

if (!team) {
  throw new Error('Team not found');
}

const { name, description } = team;
---

<Layout title={name}>
  <Hero title={name} subtitle={description} />
</Layout>
