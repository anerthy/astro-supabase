---
import Layout from '@/layouts/Layout.astro';
import { actions } from 'astro:actions';

const { data: teams, error } = await Astro.callAction(actions.getUserTeams, {});

if (error) {
  throw new Error('Failed to load teams: ' + error.message);
}
---

<Layout title="Teams">
  <div class="max-w-2xl mx-5 mt-10">
    <h1 class="text-3xl font-bold mb-6">Teams</h1>
    <p class="text-gray-600">Manage your teams here.</p>
  </div>
  {
    teams ? (
      teams.map((team) => (
        <div class="p-4 border-b">
          <h3 class="text-xl font-bold">{team?.name}</h3>
          <p class="text-gray-600">{team?.description}</p>
        </div>
      ))
    ) : (
      <p class="p-4">No teams found.</p>
    )
  }
</Layout>
